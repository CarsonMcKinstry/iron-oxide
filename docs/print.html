<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">iron-oxide</a></li><li class="chapter-item expanded affix "><a href="installation.html">Installation</a></li><li class="chapter-item expanded affix "><li class="part-title">Option</li><li class="chapter-item expanded "><a href="Option/index.html"><strong aria-hidden="true">1.</strong> Using Option</a></li><li class="chapter-item expanded "><a href="Option/methods/index.html"><strong aria-hidden="true">2.</strong> Methods</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Option/methods/issome.html"><strong aria-hidden="true">2.1.</strong> isSome</a></li><li class="chapter-item expanded "><a href="Option/methods/isnone.html"><strong aria-hidden="true">2.2.</strong> isNone</a></li><li class="chapter-item expanded "><a href="Option/methods/unwrap.html"><strong aria-hidden="true">2.3.</strong> unwrap</a></li><li class="chapter-item expanded "><a href="Option/methods/unwrapor.html"><strong aria-hidden="true">2.4.</strong> unwrapOr</a></li><li class="chapter-item expanded "><a href="Option/methods/unwraporelse.html"><strong aria-hidden="true">2.5.</strong> unwrapOrElse</a></li><li class="chapter-item expanded "><a href="Option/methods/map.html"><strong aria-hidden="true">2.6.</strong> map</a></li><li class="chapter-item expanded "><a href="Option/methods/mapor.html"><strong aria-hidden="true">2.7.</strong> mapOr</a></li><li class="chapter-item expanded "><a href="Option/methods/maporelse.html"><strong aria-hidden="true">2.8.</strong> mapOrElse</a></li><li class="chapter-item expanded "><a href="Option/methods/okor.html"><strong aria-hidden="true">2.9.</strong> okOr</a></li><li class="chapter-item expanded "><a href="Option/methods/okorelse.html"><strong aria-hidden="true">2.10.</strong> okOrElse</a></li><li class="chapter-item expanded "><a href="Option/methods/and.html"><strong aria-hidden="true">2.11.</strong> and</a></li><li class="chapter-item expanded "><a href="Option/methods/andthen.html"><strong aria-hidden="true">2.12.</strong> andThen</a></li><li class="chapter-item expanded "><a href="Option/methods/or.html"><strong aria-hidden="true">2.13.</strong> or</a></li><li class="chapter-item expanded "><a href="Option/methods/orelse.html"><strong aria-hidden="true">2.14.</strong> orElse</a></li><li class="chapter-item expanded "><a href="Option/methods/filter.html"><strong aria-hidden="true">2.15.</strong> filter</a></li><li class="chapter-item expanded "><a href="Option/methods/zip.html"><strong aria-hidden="true">2.16.</strong> zip</a></li><li class="chapter-item expanded "><a href="Option/methods/expect.html"><strong aria-hidden="true">2.17.</strong> expect</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Result</li><li class="chapter-item expanded "><a href="Result/index.html"><strong aria-hidden="true">3.</strong> Using Result</a></li><li class="chapter-item expanded "><a href="Result/methods/index.html"><strong aria-hidden="true">4.</strong> Methods</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="Result/methods/map.html"><strong aria-hidden="true">4.1.</strong> map</a></li><li class="chapter-item expanded "><a href="Result/methods/maperr.html"><strong aria-hidden="true">4.2.</strong> mapErr</a></li><li class="chapter-item expanded "><a href="Result/methods/mapor.html"><strong aria-hidden="true">4.3.</strong> mapOr</a></li><li class="chapter-item expanded "><a href="Result/methods/maporelse.html"><strong aria-hidden="true">4.4.</strong> mapOrElse</a></li><li class="chapter-item expanded "><a href="Result/methods/isok.html"><strong aria-hidden="true">4.5.</strong> isOk</a></li><li class="chapter-item expanded "><a href="Result/methods/iserr.html"><strong aria-hidden="true">4.6.</strong> isErr</a></li><li class="chapter-item expanded "><a href="Result/methods/ok.html"><strong aria-hidden="true">4.7.</strong> ok</a></li><li class="chapter-item expanded "><a href="Result/methods/err.html"><strong aria-hidden="true">4.8.</strong> err</a></li><li class="chapter-item expanded "><a href="Result/methods/and.html"><strong aria-hidden="true">4.9.</strong> and</a></li><li class="chapter-item expanded "><a href="Result/methods/andthen.html"><strong aria-hidden="true">4.10.</strong> andThen</a></li><li class="chapter-item expanded "><a href="Result/methods/or.html"><strong aria-hidden="true">4.11.</strong> or</a></li><li class="chapter-item expanded "><a href="Result/methods/orelse.html"><strong aria-hidden="true">4.12.</strong> orElse</a></li><li class="chapter-item expanded "><a href="Result/methods/unwrap.html"><strong aria-hidden="true">4.13.</strong> unwrap</a></li><li class="chapter-item expanded "><a href="Result/methods/unwraperr.html"><strong aria-hidden="true">4.14.</strong> unwrapErr</a></li><li class="chapter-item expanded "><a href="Result/methods/unwrapor.html"><strong aria-hidden="true">4.15.</strong> unwrapOr</a></li><li class="chapter-item expanded "><a href="Result/methods/unwraporelse.html"><strong aria-hidden="true">4.16.</strong> unwrapOrElse</a></li><li class="chapter-item expanded "><a href="Result/methods/expect.html"><strong aria-hidden="true">4.17.</strong> expect</a></li><li class="chapter-item expanded "><a href="Result/methods/expecterr.html"><strong aria-hidden="true">4.18.</strong> expectErr</a></li></ol></li><li class="chapter-item expanded "><li class="part-title">Match</li><li class="chapter-item expanded "><a href="Match/index.html"><strong aria-hidden="true">5.</strong> Using match</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="iron-oxide"><a class="header" href="#iron-oxide">iron-oxide</a></h1>
<p><code>iron-oxide</code> offers some Rust style exception handling and rudimentary pattern matching.</p>
<h2 id="the-problem"><a class="header" href="#the-problem">The Problem</a></h2>
<p>Exception handling in JavaScript and TypeScript can be notoriously cumbersome and confusing. For example, <code>Array.prototype.find</code> returns <code>undefined</code> and <code>Array.prototype.indexOf</code> returns <code>-1</code>; the return types for these exceptions don't match and thus can be confusing, especially for newer developers. JS also allows you to throw errors and catch them using <code>try/catch</code> blocks. The problem compounds itself even more when we start using promises and asynchronous code.</p>
<h2 id="the-solution"><a class="header" href="#the-solution">The Solution</a></h2>
<p>In Rust, we have two types in the standard library <a href="https://doc.rust-lang.org/rust-by-example/std/option.html"><code>Option</code></a> and <a href="https://doc.rust-lang.org/rust-by-example/std/result.html"><code>Result</code></a> for handling exceptions. <code>Option</code> is used to catch failure in a part of the application where it doesn't make sense to <code>panic</code>, or <code>throw</code> in the case of JavaScript. <code>Result</code> is similar to <code>Option</code> except that it can contain the reason for the failure, allowing us to say <em>why</em> a function failed.</p>
<p><code>Option</code> comes in two flavors:</p>
<ul>
<li><code>Some</code> representing success or a value</li>
<li><code>None</code> representing failure or lack of a value</li>
</ul>
<p><code>Result</code> also comes in two flavors:</p>
<ul>
<li><code>Ok</code> representing success or a value</li>
<li><code>Err</code> representing failure, or lack of a value, <em>with a reason</em></li>
</ul>
<h2 id="pattern-matching"><a class="header" href="#pattern-matching">Pattern Matching</a></h2>
<p>Rust provides pattern matching through the use of the <code>match</code> keyword. <code>iron-oxide</code> attempts to replicate this by including a <code>match</code> function.</p>
<h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<p>This project is distributed via <a href="https://www.npmjs.com/package/iron-oxide">npm</a> which is bundled with <a href="https://nodejs.org/">node</a> and should be installed as one of your project's <code>dependencies</code>.</p>
<pre><code class="language-bash">$ npm install iron-oxide
</code></pre>
<blockquote>
<p>ℹ️ <code>iron-oxide</code> is written in TypeScript and comes bundled with type declarations</p>
</blockquote>
<h1 id="using-option"><a class="header" href="#using-option">Using Option</a></h1>
<p><code>Option</code> is used to catch errors in a uniform way, where we don't necessarily care about the failure reason. They are generic over <code>T</code>.</p>
<p>There are two variants of <code>Option&lt;T&gt;</code>:</p>
<ul>
<li><code>None</code>, to indicate failure or lack of a value</li>
<li><code>Some(value)</code>, a wrapper around of <code>value</code> of type <code>T</code></li>
</ul>
<pre><code class="language-typescript">
import { Option, Some, None } from 'iron-oxide';

// Array.prototype.find returns undefined if it doesn't find a value
// let's fix that
function find&lt;T&gt;(
    arr: T[],
    predicate: (value: T) =&gt; boolean
): Option&lt;T&gt; {
    const value = arr.find(v =&gt; predicate(v));

    // if the value is undefined, we return `None`, our failure state
    if (value === undefined) {
        return None();
    }

    // otherwise, we wrap the value in `Some`
    return Some(value);
}
</code></pre>
<h1 id="methods"><a class="header" href="#methods">Methods</a></h1>
<p><code>Option</code> comes with some built-in methods for interacting with the wrapped value and handling what happens when the <code>Option</code> is <code>None</code>.</p>
<h3 id="interacting-with-the-value"><a class="header" href="#interacting-with-the-value">Interacting with the value</a></h3>
<p>From our introductory example, we now have a <code>find</code> function with the signature</p>
<pre><code class="language-typescript">function find&lt;T&gt;(arr: T[], predicate: (value: T) =&gt; boolean): Option&lt;T&gt;;
</code></pre>
<p>Commonly, we use the <code>map</code> method to transform the value.</p>
<pre><code class="language-typescript">// we have an array of people, and want to find Tom and increment
// his age
const people = [
    {
        name: &quot;Bob&quot;,
        age: 25
    },
    {
        name: &quot;Sally&quot;,
        age: 26
    },
    {
        name: &quot;Tom&quot;,
        age: 28
    }
]; 

const newTom = find(people, ({ name }) =&gt; name === &quot;Tom&quot;)
    .map(tom =&gt; ({
        ...tom,
        age: tom.age + 1
    });
</code></pre>
<p>Here, we find <code>Tom</code> and increment his age inside of <code>map</code>. But what happens if we look for someone else that doesn't exist?</p>
<pre><code class="language-typescript">const newLucy = find(people, ({ name }) =&gt; name === &quot;Lucy&quot;)
    .map(lucy =&gt; ({
        ...lucy,
        age: lucy.age + 1
    });
</code></pre>
<p>Nothing will actually happen. We would expect that normally this would throw a nasty exception, something on the lines of <code>lucy is not defined</code>. In our case, <code>find</code> returns <code>None</code> , which won't cause the rest of our code to fail. But how do we figure out if the operation failed?</p>
<h3 id="checking-for-failure"><a class="header" href="#checking-for-failure">Checking for failure</a></h3>
<p><code>Option</code> comes with a few ways to check if the value is <code>None</code>, such as the <code>isNone</code> method</p>
<pre><code class="language-typescript">if (newLucy.isNone()) {
    console.log(&quot;Oops, we couldn't find lucy!&quot;);
}
</code></pre>
<p>Sometimes, we would rather the application throw if we find a <code>None</code>. We do this with the <code>unwrap</code> method</p>
<pre><code class="language-typescript">try {
    newLucy.unwrap();
catch (err) {
    // Throws &quot;Called 'Option.unwrap' on a 'None' value&quot;
    console.err(err);
}
</code></pre>
<h1 id="issome"><a class="header" href="#issome">isSome</a></h1>
<p><code>Option.isSome</code> returns whether or not the <code>Option</code> is a <code>Some</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.isSome = () =&gt; boolean;
</code></pre>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<pre><code class="language-typescript">const carson = find(people, person =&gt; person.name === &quot;Carson&quot;)

if (carson.isSome()) {
    console.log(&quot;We found Carson&quot;);
} else {
    console.log(&quot;We didn't find Carson&quot;);
}
</code></pre>
<h1 id="isnone"><a class="header" href="#isnone">isNone</a></h1>
<p><code>Option.isNone</code> returns whether or not the <code>Option</code> is <code>None</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.isNone = () =&gt; boolean;
</code></pre>
<h2 id="example-1"><a class="header" href="#example-1">Example</a></h2>
<pre><code class="language-typescript">const carson = find(people, person =&gt; person.name === &quot;Carson&quot;)

if (carson.isNone()) {
    console.log(&quot;We didn't find Carson&quot;);
} else {
    console.log(&quot;We found Carson&quot;);
}
</code></pre>
<h1 id="unwrap"><a class="header" href="#unwrap">unwrap</a></h1>
<p><code>Option.unwrap</code> returns the value contained in a <code>Some</code> and throws if the <code>Option</code> is <code>None</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.unwrap = () =&gt; T;
</code></pre>
<h2 id="example-2"><a class="header" href="#example-2">Example</a></h2>
<pre><code class="language-typescript">const carson = find(people, person =&gt; person.name === &quot;Carson&quot;);

try {
    carson.unwrap();
} catch (err) {
    console.error(err);
}
</code></pre>
<h1 id="unwrapor"><a class="header" href="#unwrapor">unwrapOr</a></h1>
<p><code>Option.unwrapOr</code> returns the value contained in a <code>Some</code> and returns the provided default if the <code>Option</code> is <code>None</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.unwrapOr = (def: T) =&gt; T;
</code></pre>
<h2 id="example-3"><a class="header" href="#example-3">Example</a></h2>
<pre><code class="language-typescript">const carson = find(people, person =&gt; person.name === &quot;Carson&quot;) // =&gt; None
        .unwrapOr({ name: &quot;Carson&quot;, age: 27 });                 // =&gt; { name: &quot;Carson&quot;, age: 27 }
</code></pre>
<h1 id="unwraporelse"><a class="header" href="#unwraporelse">unwrapOrElse</a></h1>
<p><code>Option.unwrapOrElse</code> returns the value contained in a <code>Some</code> and returns the result of calling the provided closure if the <code>Option</code> is <code>None</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.unwrapOrElse = (def: () =&gt; T) =&gt; T;
</code></pre>
<h2 id="example-4"><a class="header" href="#example-4">Example</a></h2>
<pre><code class="language-typescript">const carson = find(people, person =&gt; person.name === &quot;Carson&quot;) // =&gt; None
        .unwrapOrElse(() =&gt; { name: &quot;Carson&quot;, age: 27 });       // =&gt; { name: &quot;Carson&quot;, age: 27 }
</code></pre>
<h1 id="map"><a class="header" href="#map">map</a></h1>
<p><code>Option.map</code> transforms the contained value of the option using the provided projection.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.map&lt;U&gt; = (proj: (value: T) =&gt; U) =&gt; Option&lt;U&gt;;
</code></pre>
<h2 id="example-5"><a class="header" href="#example-5">Example</a></h2>
<pre><code class="language-typescript">find(people, person =&gt; person.name === 'Tom')   // =&gt; Some({ name: &quot;Tom&quot;, age: 28 })
    .map(person =&gt; person.name)                 // =&gt; Some(&quot;Tom&quot;)
</code></pre>
<h1 id="mapor"><a class="header" href="#mapor">mapOr</a></h1>
<p><code>Option.mapOr</code> transforms the contained value and returns it, returning the default value if the <code>Option</code> is <code>None</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.mapOr&lt;U&gt; = (def: U, proj: (value: T) =&gt; U) =&gt; U;
</code></pre>
<h2 id="example-6"><a class="header" href="#example-6">Example</a></h2>
<pre><code class="language-typescript">find(people, person =&gt; person.name === 'Carson') // =&gt; None
    .mapOr(&quot;Carson&quot;, person =&gt; person.name)        // =&gt; &quot;Carson&quot;
</code></pre>
<h1 id="maporelse"><a class="header" href="#maporelse">mapOrElse</a></h1>
<p><code>Option.mapOr</code> transforms the contained value and returns it, returning the value returned by the provided closure if the <code>Option</code> is <code>None</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.mapOrElse&lt;U&gt; = (def: () =&gt; U, proj: (value: T) =&gt; U) =&gt; U;
</code></pre>
<h2 id="example-7"><a class="header" href="#example-7">Example</a></h2>
<pre><code class="language-typescript">const defaultName = &quot;Carson&quot;;

find(people, person =&gt; person.name === 'Carson')    // =&gt; None
    .mapOrElse(() =&gt; defaultName, person =&gt; person.name)  // =&gt; &quot;Carson&quot;
</code></pre>
<h1 id="okor"><a class="header" href="#okor">okOr</a></h1>
<p><code>Option.okOr</code> transforms the <code>Option</code> into a <code>Result</code>. If the <code>Option</code> is <code>None</code> the provided error will be used as the error of <code>Result</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.okOr&lt;E&gt; = (err: E) =&gt; Result&lt;T, E&gt;;
</code></pre>
<h2 id="example-8"><a class="header" href="#example-8">Example</a></h2>
<pre><code class="language-typescript">find(people, person =&gt; person.name === 'Carson')   // =&gt; None
    .okOr(&quot;Couldn't find Carson...&quot;)               // =&gt; Err(&quot;Couldn't find Carson...&quot;)
</code></pre>
<h1 id="okorelse"><a class="header" href="#okorelse">okOrElse</a></h1>
<p><code>Option.okOrElse</code> transforms the <code>Option</code> into a <code>Result</code>. If the <code>Option</code> is <code>None</code> the result of the provided error closure will be used as the error of <code>Result</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.okOr&lt;E&gt; = (err: () =&gt; E) =&gt; Result&lt;T, E&gt;
</code></pre>
<h2 id="example-9"><a class="header" href="#example-9">Example</a></h2>
<pre><code class="language-typescript">const cantFindMessage = &quot;Couldn't find Carson...&quot;

find(people, person =&gt; person.name === 'Carson')  // =&gt; None
    .okOr(() =&gt; cantFindMessage)                  // =&gt; Err(&quot;Couldn't find Carson...&quot;)
</code></pre>
<h1 id="and"><a class="header" href="#and">and</a></h1>
<p><code>Option.and</code> returns <code>None</code> if the <code>Option</code> is <code>None</code>, otherwise returns <code>optionB</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.and&lt;U&gt; = (optionB: Option&lt;U&gt;) =&gt; Option&lt;U&gt;
</code></pre>
<h2 id="example-10"><a class="header" href="#example-10">Example</a></h2>
<pre><code class="language-typescript">find(people, person =&gt; person.name === 'Tom')   // =&gt; Some({ name: &quot;Tom&quot;, age: 28 })
    .and(Some({ profession: &quot;Engineer&quot; }))      // =&gt; Some({ profession: &quot;Engineer&quot; })
</code></pre>
<h1 id="andthen"><a class="header" href="#andthen">andThen</a></h1>
<p><code>Option.andThen</code> returns <code>None</code> if the <code>Option</code> is <code>None</code>, otherwise returns the option contained within the provided closure.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.andThen&lt;U&gt; = (f: (value: T) =&gt; Option&lt;U&gt;) =&gt; Option&lt;U&gt;;
</code></pre>
<h2 id="example-11"><a class="header" href="#example-11">Example</a></h2>
<pre><code class="language-typescript">find(people, person =&gt; person.name === 'Tom')     // =&gt; Some({ name: &quot;Tom&quot;, age: 28 })
    .and(() =&gt; Some({ profession: &quot;Engineer&quot; }))  // =&gt; Some({ profession: &quot;Engineer&quot;)
</code></pre>
<h1 id="or"><a class="header" href="#or">or</a></h1>
<p><code>Option.or</code> returns the option, or returns <code>optionB</code> if the <code>Option</code> is <code>None</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.or = (optionB: Option&lt;T&gt;) =&gt; Option&lt;T&gt;;
</code></pre>
<h2 id="example-12"><a class="header" href="#example-12">Example</a></h2>
<pre><code class="language-typescript">const carson = find(people, person =&gt; person.name === 'Carson'); // =&gt; None

carson.or(find(people,person =&gt; person.name === 'Tom')) // =&gt; Some({ name: &quot;Tom&quot;, age: 28 })
</code></pre>
<h1 id="orelse"><a class="header" href="#orelse">orElse</a></h1>
<p><code>Option.orElse</code> returns the option, or returns <code>optionB</code> returned by the given closure if the <code>Option</code> is <code>None</code>.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.orElse = (f: () =&gt; Option&lt;T&gt;) =&gt; Option&lt;T&gt;;
</code></pre>
<h2 id="example-13"><a class="header" href="#example-13">Example</a></h2>
<pre><code class="language-typescript">const carson = find(people, person =&gt; person.name === 'Carson'); // =&gt; None

carson.orElse(() =&gt; find(people,person =&gt; person.name === 'Tom')) // =&gt; Some({ name: &quot;Tom&quot;, age: 28 })
</code></pre>
<h1 id="filter"><a class="header" href="#filter">filter</a></h1>
<p><code>Option.filter</code> returns the <code>Some</code> if the contained value satisfies the predicated, returning <code>None</code> otherwise.</p>
<pre><code class="language-typescript">Option&lt;T&gt;.filter = (predicate: (value: T) =&gt; boolean) =&gt; Option&lt;T&gt;;
</code></pre>
<h2 id="example-14"><a class="header" href="#example-14">Example</a></h2>
<pre><code class="language-typescript">find(people, person =&gt; person.name === 'Tom')    // =&gt; Some({ name: &quot;Tom&quot;, age: 28 })
    .filter(person =&gt; person.name === 'Carson')  // =&gt; None
</code></pre>
<h1 id="zip"><a class="header" href="#zip">zip</a></h1>
<p><code>Option.zip</code> combines two <code>Option</code>s into a single <code>Option</code> of type <code>Option&lt;T, U&gt;</code></p>
<pre><code class="language-typescript">Option&lt;T&gt;.zip&lt;U&gt; = (other: Option&lt;U&gt;) =&gt; Option&lt;[T, U]&gt;;
</code></pre>
<h2 id="example-15"><a class="header" href="#example-15">Example</a></h2>
<pre><code class="language-typescript">const tom = find(people, person =&gt; person.name === 'Tom'); // =&gt; Some({ name: &quot;Tom&quot;, age: 28 })
const bob = find(people, person =&gt; person.name === 'Bob'); // =&gt; Some({ name: &quot;Bob&quot;, age: 25 })

tom.zip(bob) // =&gt; Some([{ name: &quot;Tom&quot;, age: 28 }, { name: &quot;Bob&quot;, age: 25 } ]);
</code></pre>
<h1 id="expect"><a class="header" href="#expect">expect</a></h1>
<p><code>Option.expect</code> returns the wrapped value, or throws an error with the provided message</p>
<pre><code class="language-typescript">Option&lt;T&gt;.expect = (message: string) =&gt; T;
</code></pre>
<h2 id="example-16"><a class="header" href="#example-16">Example</a></h2>
<pre><code class="language-typescript">find(people, person =&gt; person.name === 'Carson') // =&gt; None
    .expect(&quot;Couldn't find Carson!&quot;)             // =&gt; throws!
</code></pre>
<h1 id="using-result"><a class="header" href="#using-result">Using Result</a></h1>
<p>Sometimes we want to give more information about the failure of a function than just returning <code>None</code>. The <code>Result</code> type is used to do this. It is similar to <code>Option</code> in that it can wrap a value, but it can also wrap an error. <code>Result</code> is generic over <code>T</code>, the type of the value, and <code>E</code>, the type of the error.</p>
<p>There are two variants of <code>Result&lt;T, E&gt;</code>:</p>
<ul>
<li><code>Ok(value)</code>, which indicates success and wraps the <code>value</code> of type <code>T</code></li>
<li><code>Err(why)</code>, which indicates failure and wraps a <code>why</code> of type <code>E</code>, which should explain the cause of the failure</li>
</ul>
<pre><code class="language-typescript">import { Result, Ok, Err } from 'iron-oxide';

// Number.parseInt returns NaN, which we would need to check for later
// let's fix that

function parseInt(
    maybeInt: string,
    radix?: number
): Result&lt;number, string&gt; {
    const result = parseInt(maybeInt, radix);

    if (isNaN(result)) {
        return Err(
            `Attempted to parse ${maybeInt} as an integer`
        );
    }

    return Ok(result);
}
</code></pre>
<h1 id="methods-1"><a class="header" href="#methods-1">Methods</a></h1>
<p><code>Result</code> comes with some built-in methods for interacting with the wrapped value and handling what happens when the <code>Result</code> is <code>Err</code>.</p>
<h3 id="interacting-with-the-value-1"><a class="header" href="#interacting-with-the-value-1">Interacting with the value</a></h3>
<p>From our introductory example, we have our <code>parseInt</code> function with the signature</p>
<pre><code class="language-typescript">function parseInt(str: string, radix?: number): Result&lt;number, string&gt;;
</code></pre>
<p>Commonly, we use the <code>map</code> method to transform the value.</p>
<pre><code class="language-typescript">
const numTimesTwo = parseInt(&quot;2&quot;)
    .map(n =&gt; n * 2)

</code></pre>
<p>Here, <code>parseInt</code> returns <code>Ok(2)</code>, which can then be <code>map</code>ped as we see fit. In JavaScript, if this were to fail, it would result in <code>NaN</code>, or <code>not a number</code>, meaning we would need to work with <code>isNaN</code> in order to guard against the failure. Here, though, that's been taken care of for us inside of <code>parseInt</code> and it will return a nice error message, as an <code>Err</code> containing information about <em>why</em> the parsing failed. How do we then work with this error?</p>
<h3 id="interacting-with-the-error"><a class="header" href="#interacting-with-the-error">Interacting with the error</a></h3>
<p><code>Result</code> also comes with some methods for working with the error we receive. Most notably, errors can be mapped with <code>mapErr</code>. </p>
<pre><code class="language-typescript">const erroredParse = parseInt(&quot;foo&quot;)
    .mapErr(errorMessage =&gt; {
        return &quot;Oops, we couldn't parse that value!&quot;
    })
</code></pre>
<p>This can become very useful when we have much more complex return types</p>
<pre><code class="language-typescript">
enum MathError {
    DivisionByZero,
    NonPositiveLogarithm,
    NegativeSquareRoot
}

type MathResult = Result&lt;number, MathError&gt;;

function div(x: number, y: number): MathResult {
    if (y === 0) {
        return Err(MathError.DivisionByZero);
    } else {
        return Ok(x / y);
    }
}

function ln(x: number): MathResult {
    if (x &lt; 0) {
        return Err(MathError.NonPositiveLogarithm);
    } else {
        return Ok(Math.log10(x))
    }
}

function sqrt(x: number): MathResult {
    if (x &lt; 0) {
        return Err(MathError.NegativeSquareRoot);
    } else {
        return Ok(Math.sqrt(x));
    }
}

</code></pre>
<p>In each of these instances, our error could be one of the enum <code>MathError</code>. This means we can tailor how we handle the error accordingly.</p>
<pre><code class="language-typescript">
div(1, 0)
    .mapErr(err =&gt; {
        if (err === MathError.DivisionByZero) {
            throw new Error(&quot;You attempted to divide by zero!&quot;)
        }
    });

ln(-1)
    .mapErr(err =&gt; {
        if (err === MathError.NonPositiveLogarithm) {
            throw new Error(&quot;Natural log is not defined for values less than 0&quot;);
        }
    });

sqrt(-1)
    .mapErr(err =&gt; {
        if (err === MathError.NegativeSquareRoot) {
            throw new Error(&quot;The square root of a negative number is imaginary&quot; )
        }
    })
</code></pre>
<!-- 
  map<U>(proj: (a: T) => U): Result<U, E>;
  mapErr<F>(op: (err: E) => F): Result<T, F>;
  mapOr<U>(def: U, proj: (a: T) => U): U;
  mapOrElse<U>(def: () => U, proj: (a: T) => U): U;
  isOk(): boolean;
  isErr(): boolean;
  ok(): Option<T>;
  err(): Option<E>;
  and<U>(res: Result<U, E>): Result<U, E>;
  andThen<U>(op: (a: T) => Result<U, E>): Result<U, E>;
  or(res: Result<T, E>): Result<T, E>;
  orElse<F>(op: (a: E) => Result<T, F>): Result<T, F>;
  unwrap(): T;
  unwrapErr(): E;
  unwrapOr(optb: T): T;
  unwrapOrElse(op: (err: E) => T): T;
  expect(msg: string): T;
  expectErr(msg: string): E;
  is(res: Result<T, E>): boolean;
  --><h1 id="map-1"><a class="header" href="#map-1">map</a></h1>
<p><code>Result.map</code> transforms the contained value using the provided projection.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.map = &lt;U&gt;(proj: (a: T) =&gt; U) =&gt; Result&lt;U, E&gt;;
</code></pre>
<h2 id="example-17"><a class="header" href="#example-17">Example</a></h2>
<pre><code class="language-typescript">
div(2, 2).map(n =&gt; n * 2); // Ok(2)

</code></pre>
<h1 id="maperr"><a class="header" href="#maperr">mapErr</a></h1>
<p><code>Result.mapErr</code> transforms the contained error using the provided projection.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.mapErr = &lt;F&gt;(op: (err: E) =&gt; F) =&gt; Result&lt;T, F&gt;;
</code></pre>
<h2 id="example-18"><a class="header" href="#example-18">Example</a></h2>
<pre><code class="language-typescript">
div(2, 0).mapErr&lt;string&gt;(err =&gt; {
  if (err === MathError.DivisionByZero) {
    return 'You tried to divide by zero. That doesn\'t work'
  }

  return err;
}); // Err('You tried to divide by zero. That doesn\'t work')

</code></pre>
<h1 id="mapor-1"><a class="header" href="#mapor-1">mapOr</a></h1>
<p><code>Result.mapOr</code> transforms the contained value and returns it, returning the default value if the result is <code>Err</code>.</p>
<pre><code class="language-typescript">Result&lt;T,E&gt;.mapOr = &lt;U&gt;(def: U, proj: (a: T) =&gt; U) =&gt; U;
</code></pre>
<h2 id="example-19"><a class="header" href="#example-19">Example</a></h2>
<pre><code class="language-typescript">div(2, 0).mapOr(0, n =&gt; n * 2) // Ok(0)
</code></pre>
<h1 id="maporelse-1"><a class="header" href="#maporelse-1">mapOrElse</a></h1>
<p><code>Result.mapOr</code> transforms the contained value and returns it, returning the value returned by the provided closure if the result is <code>Err</code>.</p>
<pre><code class="language-typescript">Result&lt;T,E&gt;.mapOrElse = &lt;U&gt;(def: () =&gt; U, proj: (a: T) =&gt; U) =&gt; U;
</code></pre>
<h2 id="example-20"><a class="header" href="#example-20">Example</a></h2>
<pre><code class="language-typescript">div(2, 0).mapOr(() =&gt; 0, n =&gt; n * 2) // Ok(0)
</code></pre>
<h1 id="isok"><a class="header" href="#isok">isOk</a></h1>
<p><code>Result.isOk</code> returns whether or not the result is <code>Ok</code> </p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.isOk(): boolean;
</code></pre>
<h2 id="example-21"><a class="header" href="#example-21">Example</a></h2>
<pre><code class="language-typescript">
div(2, 2).isOk(); // =&gt; true

div(2, 0).isOk(); // =&gt; false

</code></pre>
<h1 id="iserr"><a class="header" href="#iserr">isErr</a></h1>
<p><code>Result.isErr</code> returns whether or not the result is <code>Err</code> </p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.isErr(): boolean;
</code></pre>
<h2 id="example-22"><a class="header" href="#example-22">Example</a></h2>
<pre><code class="language-typescript">
div(2, 2).isErr(); // =&gt; false

div(2, 0).isErr(); // =&gt; true

</code></pre>
<h1 id="ok"><a class="header" href="#ok">ok</a></h1>
<p><code>Result.ok</code> converts <code>Result&lt;T, never&gt;</code> into <code>Option&lt;T&gt;</code>, <code>None</code> if the result is <code>Err</code>.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.ok = () =&gt; Option&lt;T&gt;;

</code></pre>
<h2 id="example-23"><a class="header" href="#example-23">Example</a></h2>
<pre><code class="language-typescript">
div(2, 2) // =&gt; Ok(1)
  .ok()   // =&gt; Some(1)

</code></pre>
<h1 id="err"><a class="header" href="#err">err</a></h1>
<p><code>Result.err</code> converts <code>Result&lt;never, E&gt;</code> into <code>Option&lt;E&gt;</code>, <code>None</code> if the result is <code>Ok</code>.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.err = () =&gt; Option&lt;E&gt;;

</code></pre>
<h2 id="example-24"><a class="header" href="#example-24">Example</a></h2>
<pre><code class="language-typescript">
div(2, 2) // =&gt; Ok(1)
  .err()  // =&gt; None

</code></pre>
<h1 id="and-1"><a class="header" href="#and-1">and</a></h1>
<p><code>Result.and</code> returns the supplied <code>res</code> if the result is <code>Ok</code>, returns <code>Err&lt;never&gt;</code> otherwise.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.and&lt;U&gt; = (res: Result&lt;U, E&gt;) =&gt; Result&lt;U, E&gt;;
</code></pre>
<h2 id="example-25"><a class="header" href="#example-25">Example</a></h2>
<pre><code class="language-typescript">
div(2, 2)         // =&gt; Ok(1)
  .and(div(3, 3)) // =&gt; Ok(1)

</code></pre>
<h1 id="andthen-1"><a class="header" href="#andthen-1">andThen</a></h1>
<p><code>Result.andThen</code> returns the result of the supplied <code>res</code> closure if the result is <code>Ok</code>, returns <code>Err&lt;never&gt;</code> otherwise.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.andThen&lt;U&gt; = (op: (a: T) =&gt; Result&lt;U, E&gt;): Result&lt;U, E&gt;;
</code></pre>
<h2 id="example-26"><a class="header" href="#example-26">Example</a></h2>
<pre><code class="language-typescript">
div(2, 2)                   // =&gt; Ok(1)
  .andThen(() =&gt; div(3, 3)) // =&gt; Ok(1)

</code></pre>
<p>S</p>
<h1 id="or-1"><a class="header" href="#or-1">or</a></h1>
<p><code>Result.or</code> returns the option, or returns <code>optionB</code> if the result is <code>Err</code>.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.or = (res: Result&lt;T, E&gt;) =&gt; Result&lt;T, E&gt;;
</code></pre>
<h2 id="example-27"><a class="header" href="#example-27">Example</a></h2>
<pre><code class="language-typescript">div(2, 0)        // =&gt; Err(MathError.DivisionByZero)
  .or(div(1, 1)) // =&gt; Ok(1)
</code></pre>
<h1 id="orelse-1"><a class="header" href="#orelse-1">orElse</a></h1>
<p><code>Result.orElse</code> returns the option, or returns the result of the <code>optionB</code> closure if the result is <code>Err</code>.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.orElse&lt;F&gt; = (op: (a: E) =&gt; Result&lt;T, F&gt;) =&gt; Result&lt;T, F&gt;;
</code></pre>
<h2 id="example-28"><a class="header" href="#example-28">Example</a></h2>
<pre><code class="language-typescript">div(2, 0)                  // =&gt; Err(MathError.DivisionByZero)
  .orElse(() =&gt; div(1, 1)) // =&gt; Ok(1)
</code></pre>
<h1 id="unwrap-1"><a class="header" href="#unwrap-1">unwrap</a></h1>
<p><code>Result.unwrap</code> returns the value contained in an <code>Ok</code> and throws if the result is <code>Err</code>.</p>
<pre><code class="language-typescript">Result&lt;T,E&gt;.unwrap = () =&gt; T;
</code></pre>
<h2 id="example-29"><a class="header" href="#example-29">Example</a></h2>
<pre><code class="language-typescript">  div(1, 1).unwrap(); // =&gt; 1
</code></pre>
<h1 id="unwraperr"><a class="header" href="#unwraperr">unwrapErr</a></h1>
<p><code>Result.unwrapErr</code> returns the error contained in an <code>Err</code> and throws if the result is <code>Ok</code>.</p>
<pre><code class="language-typescript">Result&lt;T,E&gt;.unwrapErr = () =&gt; E;
</code></pre>
<h2 id="example-30"><a class="header" href="#example-30">Example</a></h2>
<pre><code class="language-typescript">  div(1, 0).unwrap(); // =&gt; MathError.DivisionByZero
</code></pre>
<h1 id="unwrapor-1"><a class="header" href="#unwrapor-1">unwrapOr</a></h1>
<p><code>Result.unwrapOr</code> returns the value contained in an <code>Ok</code> and returns the provided default if the result is <code>Err</code>.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.unwrapOr = (optb: T) =&gt; T;
</code></pre>
<h2 id="example-31"><a class="header" href="#example-31">Example</a></h2>
<pre><code class="language-typescript">div(1, 0).unwrapOr(0); // =&gt; 0
</code></pre>
<h1 id="unwrapor-2"><a class="header" href="#unwrapor-2">unwrapOr</a></h1>
<p><code>Result.unwrapOr</code> returns the value contained in an <code>Ok</code> and returns the result of calling the provided closure if the result is <code>Err</code>.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.unwrapOrElse = (op: (err: E) =&gt; T) =&gt; T;
</code></pre>
<h2 id="example-32"><a class="header" href="#example-32">Example</a></h2>
<pre><code class="language-typescript">div(1, 0).unwrapOrElse(() =&gt; 0); // =&gt; 0
</code></pre>
<h1 id="expect-1"><a class="header" href="#expect-1">expect</a></h1>
<p><code>Result.expect</code> returns the contained value, throwing the provided message if the result is <code>Err</code>.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.expect = (msg: string) =&gt; T;
</code></pre>
<h2 id="example-33"><a class="header" href="#example-33">Example</a></h2>
<pre><code class="language-typescript">
div(2, 0)                                         // =&gt; Ok(1)
  .expect(&quot;Something went wrong while dividing&quot;)  // =&gt; None

</code></pre>
<h1 id="expecterr"><a class="header" href="#expecterr">expectErr</a></h1>
<p><code>Result.expectErr</code> returns the contained error, throwing the provided message if the result is <code>Ok</code>.</p>
<pre><code class="language-typescript">Result&lt;T, E&gt;.expectErr = (msg: string) =&gt; E;
</code></pre>
<h2 id="example-34"><a class="header" href="#example-34">Example</a></h2>
<pre><code class="language-typescript">
div(2, 0)                                         // =&gt; Ok(1)
  .expectErr(&quot;Something went wrong while dividing&quot;)  // =&gt; Some(&quot;Somethign went wrong while dividing&quot;)

</code></pre>
<h1 id="using-match"><a class="header" href="#using-match">Using match</a></h1>
<p><code>iron-oxide</code> offers a rudimentary way to mimic <code>rust</code>'s <code>match</code> keyword.  </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
